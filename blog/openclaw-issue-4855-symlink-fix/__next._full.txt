1:"$Sreact.fragment"
2:I[89554,["/portfolio/_next/static/chunks/0c664fdf4485cf46.js"],"ThemeProvider"]
3:I[39756,["/portfolio/_next/static/chunks/ff1a16fafef87110.js","/portfolio/_next/static/chunks/d2be314c3ece3fbe.js"],"default"]
4:I[37457,["/portfolio/_next/static/chunks/ff1a16fafef87110.js","/portfolio/_next/static/chunks/d2be314c3ece3fbe.js"],"default"]
5:I[22016,["/portfolio/_next/static/chunks/0c664fdf4485cf46.js","/portfolio/_next/static/chunks/ab10cc02ce3428cf.js","/portfolio/_next/static/chunks/58500cb1a78f2303.js"],""]
6:I[49786,["/portfolio/_next/static/chunks/0c664fdf4485cf46.js","/portfolio/_next/static/chunks/ab10cc02ce3428cf.js","/portfolio/_next/static/chunks/58500cb1a78f2303.js"],"default"]
f:I[68027,["/portfolio/_next/static/chunks/ff1a16fafef87110.js","/portfolio/_next/static/chunks/d2be314c3ece3fbe.js"],"default"]
:HL["/portfolio/_next/static/chunks/cc100b5bcddfa972.css","style"]
:HL["/portfolio/_next/static/media/0c89a48fa5027cee-s.p.4564287c.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/portfolio/_next/static/media/75affa71d1e2f6a7-s.p.51cde8ff.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
0:{"P":null,"b":"_nhtt8FH4ZW83b6B7VfWO","c":["","blog","openclaw-issue-4855-symlink-fix",""],"q":"","i":false,"f":[[["",{"children":["blog",{"children":[["slug","openclaw-issue-4855-symlink-fix","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/portfolio/_next/static/chunks/cc100b5bcddfa972.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","script","script-0",{"src":"/portfolio/_next/static/chunks/0c664fdf4485cf46.js","async":true,"nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"className":"archivo_4e2e87e-module__YL7CLG__variable space_grotesk_154b09cb-module__lmdqzG__variable","children":["$","body",null,{"className":"font-body antialiased","children":["$","$L2",null,{"attribute":"class","defaultTheme":"dark","enableSystem":true,"disableTransitionOnChange":true,"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","div",null,{"className":"min-h-screen flex items-center justify-center","children":["$","div",null,{"className":"text-center","children":[["$","h1",null,{"className":"text-6xl font-bold mb-4","children":"404"}],["$","p",null,{"className":"text-xl text-muted-foreground mb-8","children":"Page not found"}],["$","$L5",null,{"href":"/","className":"text-primary hover:underline","children":"Return home"}]]}]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]}]]}],{"children":[["$","$1","c",{"children":[[["$","script","script-0",{"src":"/portfolio/_next/static/chunks/ab10cc02ce3428cf.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/portfolio/_next/static/chunks/58500cb1a78f2303.js","async":true,"nonce":"$undefined"}]],[["$","$L6",null,{}],["$","main",null,{"className":"min-h-screen","children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]}],["$","footer",null,{"className":"border-t border-white/5 bg-deep-navy relative overflow-hidden","children":[["$","div",null,{"className":"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-neon-blue/50 to-transparent"}],["$","div",null,{"className":"container mx-auto px-4 py-12","children":["$","div",null,{"className":"flex flex-col md:flex-row justify-between items-center gap-8","children":[["$","div",null,{"className":"flex flex-col items-center md:items-start gap-2","children":[["$","div",null,{"className":"text-xl font-bold font-heading tracking-tighter","children":"Aynorica"}],["$","div",null,{"className":"text-sm text-muted-foreground","children":["© ",2026," Amir Deilamizadeh. Crafted with precision."]}]]}],["$","div",null,{"className":"flex gap-6","children":[["$","$L5","0",{"href":"https://github.com/aynorica","target":"_blank","rel":"noopener noreferrer","className":"w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-muted-foreground hover:text-neon-blue hover:border-neon-blue/30 transition-all hover:scale-110","aria-label":"GitHub","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-github h-5 w-5","children":[["$","path","tonef",{"d":"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["$","path","9comsn",{"d":"M9 18c-4.51 2-5-2-7-2"}],"$undefined"]}],false,false]}],["$","$L5","1",{"href":"https://www.linkedin.com/in/amir-deilamizadeh2712a6192/","target":"_blank","rel":"noopener noreferrer","className":"w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-muted-foreground hover:text-neon-blue hover:border-neon-blue/30 transition-all hover:scale-110","aria-label":"LinkedIn","children":[false,["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-linkedin h-5 w-5","children":["$L7","$L8","$L9","$undefined"]}],false]}],"$La"]}],"$Lb"]}]}]]}]]]}],{"children":["$Lc",{"children":["$Ld",{},null,false,false]},null,false,false]},null,false,false]},null,false,false],"$Le",false]],"m":"$undefined","G":["$f",[]],"S":true}
11:I[97367,["/portfolio/_next/static/chunks/ff1a16fafef87110.js","/portfolio/_next/static/chunks/d2be314c3ece3fbe.js"],"OutletBoundary"]
12:"$Sreact.suspense"
14:I[97367,["/portfolio/_next/static/chunks/ff1a16fafef87110.js","/portfolio/_next/static/chunks/d2be314c3ece3fbe.js"],"ViewportBoundary"]
16:I[97367,["/portfolio/_next/static/chunks/ff1a16fafef87110.js","/portfolio/_next/static/chunks/d2be314c3ece3fbe.js"],"MetadataBoundary"]
7:["$","path","c2jq9f",{"d":"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}]
8:["$","rect","mk3on5",{"width":"4","height":"12","x":"2","y":"9"}]
9:["$","circle","bt5ra8",{"cx":"4","cy":"4","r":"2"}]
a:["$","$L5","2",{"href":"mailto:amirdeilamizadeh1996@gmail.com","target":"_blank","rel":"noopener noreferrer","className":"w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-muted-foreground hover:text-neon-blue hover:border-neon-blue/30 transition-all hover:scale-110","aria-label":"Email","children":[false,false,["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-mail h-5 w-5","children":[["$","rect","18n3k1",{"width":"20","height":"16","x":"2","y":"4","rx":"2"}],["$","path","1ocrg3",{"d":"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}],"$undefined"]}]]}]
b:["$","div",null,{"className":"text-right flex flex-col items-center md:items-end gap-1","children":[["$","div",null,{"className":"text-xs font-bold uppercase tracking-widest text-muted-foreground","children":"Tech Stack"}],["$","div",null,{"className":"text-sm font-semibold text-foreground/80","children":"Next.js 16 • Tailwind v4 • Three.js"}]]}]
c:["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}]
d:["$","$1","c",{"children":["$L10",[["$","script","script-0",{"src":"/portfolio/_next/static/chunks/e0f907c922f549df.js","async":true,"nonce":"$undefined"}]],["$","$L11",null,{"children":["$","$12",null,{"name":"Next.MetadataOutlet","children":"$@13"}]}]]}]
e:["$","$1","h",{"children":[null,["$","$L14",null,{"children":"$L15"}],["$","div",null,{"hidden":true,"children":["$","$L16",null,{"children":["$","$12",null,{"name":"Next.Metadata","children":"$L17"}]}]}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}]
18:I[24114,["/portfolio/_next/static/chunks/0c664fdf4485cf46.js","/portfolio/_next/static/chunks/ab10cc02ce3428cf.js","/portfolio/_next/static/chunks/58500cb1a78f2303.js","/portfolio/_next/static/chunks/e0f907c922f549df.js"],"default"]
10:["$","$L18",null,{"post":{"slug":"openclaw-issue-4855-symlink-fix","title":"How a Sneaky Symlink Bug Broke OpenClaw for Thousands of Devs","date":"February 12, 2026","excerpt":"I dove into an open-source issue that had been bugging developers for months — turns out nvm and friends don't play nice with symlinks. Here's how I tracked it down and shipped a fix.","tags":["TypeScript","Node.js","Open Source","Symlinks","nvm"],"category":"Open Source","readTime":"8 min read","coverGradient":"from-blue-500 via-cyan-400 to-teal-500","content":[{"heading":"The Problem","body":"So here's the deal — you install OpenClaw globally with npm, fire up the Control UI dashboard, and get slapped with a 'Missing Control UI assets' error. The files are literally right there in the package. What gives? Turns out, if you're using nvm, fnm, n, or Homebrew to manage your Node versions (like most of us do), the whole thing falls apart. This wasn't some edge case either — the GitHub issue had 10+ upvotes and 29 comments from frustrated devs across macOS, Linux, and Windows. Even the maintainer admitted they'd never tested with symlink-based version managers."},{"heading":"Digging Into the Root Cause","body":"Here's where it gets interesting. When you run a CLI tool installed through nvm, Node.js sets process.argv[1] to the symlink path — something like ~/.nvm/versions/node/v22/bin/openclaw — not the actual file it points to. The code in candidateDirsFromArgv1() calls path.resolve() to normalize this, but here's the catch: path.resolve() doesn't follow symlinks. It just cleans up relative path segments. So the code starts walking up from the nvm bin/ folder looking for package.json, never finds it, and boom — \"assets not found.\" Classic case of something that looks totally fine until you realize the input isn't what you think it is.","code":{"language":"typescript","content":"function candidateDirsFromArgv1(argv1: string): string[] {\n  const normalized = path.resolve(argv1);\n  const candidates = [path.dirname(normalized)];\n  // .bin logic only — never reaches the real package root\n  // when argv1 is a symlink!\n}"}},{"heading":"The Fix","body":"The fix turned out to be surprisingly simple — just add an fs.realpathSync() call after path.resolve() to actually follow the symlink to where the file really lives. If the real path is different from the symlink path, we toss its directory into the candidate list for package root discovery. I wrapped it in a try/catch so if anything goes wrong, the original behavior stays exactly the same — zero risk of breaking existing setups. The best part? This pattern was already used elsewhere in the codebase for execPath resolution, so it felt right at home. I also cleaned up the async resolver's API to accept moduleUrl, keeping things consistent with the sync version.","code":{"language":"typescript","content":"function candidateDirsFromArgv1(argv1: string): string[] {\n  const normalized = path.resolve(argv1);\n  const candidates = [path.dirname(normalized)];\n\n  // Resolve symlinks for version managers (nvm, fnm, n, Homebrew)\n  try {\n    const resolved = fsSync.realpathSync(normalized);\n    if (resolved !== normalized) {\n      candidates.push(path.dirname(resolved));\n    }\n  } catch { /* keep original candidates */ }\n\n  // .bin logic...\n}"}},{"heading":"Testing & Validation","body":"You can't ship a fix without tests, right? I wrote three test cases that create actual symlinks using fs.symlinkSync with relative targets — basically mimicking exactly how nvm and fnm set things up in the real world. They cover all three resolution paths: finding the package root, finding the Control UI root, and resolving the dist index path through a symlink. I also made sure they skip gracefully on Windows CI where you might not have symlink privileges, so they won't randomly break the build.","table":{"headers":["Check","Result"],"rows":[["Vitest (17/17 tests)","All pass (14 existing + 3 new)"],["tsgo --noEmit","Clean — no type errors"],["oxlint (3 changed files)","0 warnings, 0 errors"],["oxfmt --check","All correctly formatted"],["git status","Clean working tree"]]}},{"heading":"Platform Coverage","body":"This is the part that made me smile. One tiny realpathSync call and suddenly every major version manager just works — nvm, fnm, n, Homebrew, you name it. And for setups that were already working fine (asdf, Volta, plain npm), it's a no-op. No regressions, no surprises.","table":{"headers":["Platform / Manager","Mechanism","Status"],"rows":[["nvm (Linux/macOS)","realpathSync resolves bin symlink","Fixed"],["fnm (Linux/macOS)","realpathSync resolves double symlink","Fixed"],["n (Linux/macOS)","realpathSync resolves bin symlink","Fixed"],["Homebrew/Linuxbrew","realpathSync resolves cellar symlink","Fixed"],["asdf (exec-based)","argv1 is already real path; no-op","Already works"],["Volta (binary launcher)","argv1 is already real path; no-op","Already works"],["Standard npm global","realpathSync returns same path; no-op","No regression"]]}},{"heading":"Key Technical Decisions","body":"A few choices I want to call out, because they weren't accidental:","list":["I put the fix at the lowest level (candidateDirsFromArgv1) so every caller gets it for free — sync resolvers, async resolvers, health checks, build triggers, everything.","For the async resolver API, I went with a string | options object union type. It's fully backward-compatible — existing callers don't need to change a thing.","Test symlinks use relative targets (../real-pkg/openclaw.mjs) instead of absolute paths, because that's how nvm and fnm actually create their symlinks.","Symlink creation in tests is wrapped with try/catch + skip for Windows, because not every CI runner has symlink privileges and I didn't want flaky builds."]},{"heading":"What I Took Away From This","body":"A few lessons that stuck with me. First — always check the actual runtime values, not just the code. path.resolve() looks perfectly correct in a code review, but the moment argv[1] is a symlink, it silently does the wrong thing. Second, before you write something new, look at what's already there. The codebase already used realpathSync for a similar purpose, so my fix felt natural to the maintainers. Third, defensive coding is your friend. That try/catch means my change literally can't break anything — it can only help. Shipped the PR with conventional commits, used the project's Fix template, and included AI-assisted disclosure as their CONTRIBUTING.md requires. Clean and by the book."}]},"prevPost":null,"nextPost":null}]
15:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
13:null
17:[["$","title","0",{"children":"How a Sneaky Symlink Bug Broke OpenClaw for Thousands of Devs | Amir Deilamizadeh"}],["$","meta","1",{"name":"description","content":"I dove into an open-source issue that had been bugging developers for months — turns out nvm and friends don't play nice with symlinks. Here's how I tracked it down and shipped a fix."}],["$","meta","2",{"name":"author","content":"Amir Deilamizadeh"}],["$","meta","3",{"name":"keywords","content":"AI Engineer,Full-Stack Architect,Next.js 16,Tailwind v4,LangGraph,Fintech,Trading Systems,Amir Deilamizadeh"}],["$","meta","4",{"property":"og:title","content":"Amir Deilamizadeh | AI Engineer & Full-Stack Architect"}],["$","meta","5",{"property":"og:description","content":"6+ years of experience building high-stakes Fintech and AI platforms."}],["$","meta","6",{"property":"og:type","content":"website"}],["$","meta","7",{"name":"twitter:card","content":"summary"}],["$","meta","8",{"name":"twitter:title","content":"Amir Deilamizadeh | AI Engineer & Full-Stack Architect"}],["$","meta","9",{"name":"twitter:description","content":"6+ years of experience building high-stakes Fintech and AI platforms."}]]
